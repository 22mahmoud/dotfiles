# vim: syntax=neomuttrc

# accounts
folder-hook 'personal' 'source $XDG_CONFIG_HOME/neomutt/accounts/personal'
# folder-hook 'work'  'source $XDG_CONFIG_HOME/neomutt/accounts/work'

# pathes
set tmpdir            = /tmp/mutt
set header_cache      = $XDG_CACHE_HOME/mutt/headers
set message_cachedir  = $XDG_CACHE_HOME/mutt/bodies
set mailcap_path      = $XDG_CONFIG_HOME/neomutt/mailcap

source                $XDG_CONFIG_HOME/neomutt/colors
source                $XDG_CONFIG_HOME/neomutt/binding

# Default account
source "$XDG_CONFIG_HOME/neomutt/accounts/personal"

# main options
set use_envelope_from                  # which from?
set mbox_type           = Maildir
set fast_reply                         # skip to compose when replying
set edit_headers                       # show headers when composing
set ask_cc                             # ask for CC:
set forward_format      = "Fwd: %s"    # format of subject when forwarding
set reverse_name                       # reply as whomever it was to
set include                            # include message in replies
set forward_quote                      # include message in forwards
set mime_forward        = yes          # attachments are forwarded with mail
set markers             = no           # Disables the `+` displayed at line wraps
set mark_old            = no           # Unread mail stay unread until read
set wait_key            = no           # mutt wont ask "press key to continue"

# status bar, date format, finding stuff etc.
set status_chars       = " *%A"
set status_format      = "[ Folder: %f ] [%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]%>â”€%?p?( %p postponed )?"
set date_format        = "!%b %d, %Y %I:%M%p"
set index_format       = "[%Z] %?X?A&-? %D  %-20.20F  %s"
set sort               = threads
set sort_aux           = reverse-last-date-received
set uncollapse_jump

# Pager View Options
set pager_index_lines   = 10  # Shows 10 lines of index when pager is active
set pager_context       = 3
set pager_stop

# abbok
# set query_command= "abook --config $ABOOK_CONFIG --datafile $ABOOK_ADDRESS_BOOK --mutt-query '%s'"
# macro index,pager  a "<pipe-message>abook --config $ABOOK_CONFIG --datafile $ABOOK_ADDRESS_BOOK --add-email-quiet<return>" "Add this sender to Abook"
# bind editor        <Tab> complete-query

# email headers and attachments
ignore                *
unignore              from: to: cc: bcc: date: subject:
unhdr_order           *
hdr_order             from: to: cc: bcc: date: subject:
auto_view text/html
alternative_order text/enriched text/plain text/html image/*

# sidebar patch config
set sidebar_visible = yes
set sidebar_width = 20
set sidebar_short_path = yes
set mail_check_stats

# GPG/PGP
# set crypt_autosign = yes
# set crypt_opportunistic_encrypt = yes
# set pgp_self_encrypt = yes
# set pgp_default_key  = 'Mahmoud Ashraf <hello@mahmoudashraf.dev>'
